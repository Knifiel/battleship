(()=>{"use strict";var e={28:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(81),a=n.n(r),o=n(645),i=n.n(o)()(a());i.push([e.id,"* {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n  background-color: azure;\n}\n#app {\n  margin-top: 2em;\n  display: flex;\n  flex-direction: column;\n  place-items: center;\n  gap: 1em;\n}\n\n.aiBoard,\n.playerBoard {\n  display: grid;\n  gap: 2px;\n  padding: 1em;\n  background-color: black;\n}\n\n.selectable:hover {\n  cursor: pointer;\n  z-index: 1;\n  outline: 2px dashed purple;\n  background-color: rgba(165, 42, 42, 0.5) !important;\n}\n\nh1.newGame {\n  border: 1px solid blue;\n  border-radius: 10px;\n  transition: all 200ms;\n}\nh1.newGame:hover {\n  cursor: pointer;\n  box-shadow: 2px 2px 0 3px grey;\n  background-color: blueviolet;\n}\n\n.validSpace:hover {\n  cursor: pointer;\n}\n\n.selected {\n  outline: 1px dashed blue;\n  z-index: 1;\n  background-color: rgba(0, 0, 255, 0.5) !important;\n}\n.error {\n  padding: 2px;\n  border: 1px solid black;\n  background-color: antiquewhite;\n  font-size: large;\n}\n\n.invalid {\n  outline: 1px dashed brown;\n  z-index: 1;\n  background-color: rgba(255, 0, 0, 0.5) !important;\n}\n\n.playerBoard.placingPhase{\n  transition: all 200ms;\n}",""]);const l=i},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,a,o){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(r)for(var l=0;l<this.length;l++){var c=this[l][0];null!=c&&(i[c]=!0)}for(var s=0;s<e.length;s++){var u=[].concat(e[s]);r&&i[u[0]]||(void 0!==o&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=o),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),a&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=a):u[4]="".concat(a)),t.push(u))}},t}},81:e=>{e.exports=function(e){return e[1]}},379:e=>{var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var o={},i=[],l=0;l<e.length;l++){var c=e[l],s=r.base?c[0]+r.base:c[0],u=o[s]||0,d="".concat(s," ").concat(u);o[s]=u+1;var p=n(d),f={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==p)t[p].references++,t[p].updater(f);else{var h=a(f,r);r.byIndex=l,t.splice(l,0,{identifier:d,updater:h,references:1})}i.push(d)}return i}function a(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,a){var o=r(e=e||[],a=a||{});return function(e){e=e||[];for(var i=0;i<o.length;i++){var l=n(o[i]);t[l].references--}for(var c=r(e,a),s=0;s<o.length;s++){var u=n(o[s]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}o=c}}},569:e=>{var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},216:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},795:e=>{e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var a=void 0!==n.layer;a&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,a&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var o=n.sourceMap;o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={id:r,exports:{}};return e[r](o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.nc=void 0,(()=>{var e=n(379),t=n.n(e),r=n(795),a=n.n(r),o=n(569),i=n.n(o),l=n(565),c=n.n(l),s=n(216),u=n.n(s),d=n(589),p=n.n(d),f=n(28),h={};function v(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}h.styleTagTransform=p(),h.setAttributes=c(),h.insert=i().bind(null,"head"),h.domAPI=a(),h.insertStyleElement=u(),t()(f.Z,h),f.Z&&f.Z.locals&&f.Z.locals;var m=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n;return t=e,(n=[{key:"attack",value:function(e,t){var n,r,a=(r=2,function(e){if(Array.isArray(e))return e}(n=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}}(n,r)||function(e,t){if(e){if("string"==typeof e)return v(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?v(e,t):void 0}}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),o=a[0],i=a[1];t.receiveAttack(o,i)}},{key:"aiAttack",value:function(e){var t=Math.floor(Math.random()*e.board.length),n=Math.floor(Math.random()*e.board.length);e.isLegal(t,n)?e.receiveAttack(t,n):this.aiAttack(e)}}])&&y(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var g=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.hull=[];for(var n=0;n<t;n++)this.hull[n]=!1}var t,n;return t=e,(n=[{key:"hit",value:function(e){this.hull[e]=!0}},{key:"isSunk",get:function(){return!(this.hull.filter((function(e){return!1===e})).length>0)}}])&&b(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function x(e){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x(e)}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,a,o=[],i=!0,l=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){l=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(l)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var E,A,L=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;C(this,e),this.board=[],this.ships=[];for(var n=0;n<t;n++)this.board.push(new Array(t).fill(null))}var t,n;return t=e,(n=[{key:"addShip",value:function(e,t){var n=w(e,2),r=n[0],a=n[1],o=w(t,2),i=o[0],l=o[1];if(i>this.board.length-1||l>this.board.length-1)throw Error("outside of bounds");for(var c=r===i?l-a+1:i-r+1,s=new g(c),u=0;u<c;u++){var d=void 0,p=void 0;if(r===i?(d=r,p=a+u):a===l&&(d=r+u,p=a),null!==this.get(d,p))throw Error("space is occupied");this.board[d][p]={ship:s,section:u}}return this.ships.push(s),this}},{key:"get",value:function(e,t){return this.board[e][t]}},{key:"isLegal",value:function(e,t){var n=this.get(e,t);return"miss"!==n&&(null===n||!1===n.ship.hull[n.section])}},{key:"receiveAttack",value:function(e,t){var n=this.board[e][t];null===n?this.board[e][t]="miss":"object"===x(n)&&n.ship.hit(n.section)}},{key:"isAllShipsSunk",value:function(){return this.ships.filter((function(e){return!0===e.isSunk})).length===this.ships.length}},{key:"populateAiBoard",value:function(){for(var e=[5,4,3,3,2];e.length>0;){var t=e[0],n=Math.floor(2*Math.random()),r=Math.floor(Math.random()*this.board.length),a=Math.floor(Math.random()*this.board.length);try{0===n?this.addShip([r,a],[r,a+t-1]):this.addShip([r,a],[r+t-1,a]),e.shift()}catch(e){if("outside of bounds"===e||"space is occupied"===e)continue}}}}])&&k(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}(),T=new m,M=new m;function j(e){E=new L(Number(e[0])),A=new L(Number(e[1])),Z(E,A)}function I(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(T.attack(t,A),B(E,A),M.aiAttack(E),B(E,A),E.isAllShipsSunk()||A.isAllShipsSunk()){var r=O(E,A);U(r)}}function O(e,t){return e.isAllShipsSunk()&&t.isAllShipsSunk()?"Draw":e.isAllShipsSunk()?"AI":"Player"}function P(e){return function(e){if(Array.isArray(e))return D(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?D(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var N=document.getElementById("app"),q=function(){var e=document.createElement("h1");e.textContent="New game",e.classList.add("newGame");var t=document.createElement("label");t.textContent="Difficulty: ";var n=document.createElement("select");t.appendChild(n),n.id="difficulty",n.innerHTML='\n    <option value="10, 10">Standard boards 10x10</option>\n    <option value="12, 12">Large boards 12x12</option>\n    <option value="8, 8">Small boards 8x8</option>\n    <option value="8, 10">Hard - you on 8x8, ai on 10x10</option>\n    <option value="8, 12">Very hard - you on 8x8, ai on 12x12</option>\n    <option value="10,8">Easy - you on 10x10, ai on 8x8</option>\n    <option value="12,8">Very easy - you on 12x12, ai on 8x8</option>\n    ',N.appendChild(e),N.appendChild(t),e.addEventListener("click",(function(){j(n.value.split(", "))}))},B=function(e,t){for(;N.firstChild;)N.firstChild.remove();var n=e.board,r=t.board,a=document.createElement("div"),o=document.createElement("div"),i=document.createElement("h3");i.textContent="Enemy board";var l=document.createElement("h3");l.textContent="Player board",N.appendChild(i),N.appendChild(a),N.appendChild(l),N.appendChild(o),a.classList.add("aiBoard"),o.classList.add("playerBoard"),R(a,r,"ai"),R(o,n),o.style.gridTemplateColumns="repeat(".concat(n.length,", 20px)"),o.style.gridTemplateRows="repeat(".concat(n.length,", 20px)"),a.style.gridTemplateColumns="repeat(".concat(r.length,", 20px)"),a.style.gridTemplateRows="repeat(".concat(r.length,", 20px)")},z=function(e){for(;N.firstChild;)N.firstChild.remove();var t=document.createElement("h1");t.textContent="Place your ships",N.appendChild(t);var n=document.createElement("div");n.classList.add("playerBoard"),n.classList.add("placingPhase"),n.style.gridTemplateColumns="repeat(".concat(e.board.length,", 20px)"),n.style.gridTemplateRows="repeat(".concat(e.board.length,", 20px)"),function(e,t){e.board.forEach((function(e,n){e.forEach((function(e,r){var a=document.createElement("div");a.width="20px",a.height="20px",a.dataset.x=n,a.dataset.y=r,null===e?(a.style.background="white",a.classList.add("validSpace")):(a.style.background="blue",a.classList.add("playerShip")),a.addEventListener("contextmenu",(function(e){return e.preventDefault(),!1})),t.appendChild(a)}))}))}(e,n),N.appendChild(n);var r=document.createElement("span");N.appendChild(r),r.classList.add("prompt");var a=document.createElement("span");a.textContent="Right click on square to change orientation";var o=document.createElement("span");o.textContent="Left click on square to place ships",N.appendChild(a),N.appendChild(o)};function R(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;t.forEach((function(t,r){t.forEach((function(t,a){var o=document.createElement("div");switch(t){case null:o.style.backgroundColor="white","ai"===n&&(o.classList.add("selectable"),o.addEventListener("click",(function(e){e.preventDefault,I(r,a)})));break;case"miss":o.style.backgroundColor="grey";break;default:!1===t.ship.hull[t.section]?"ai"!==n?(o.style.backgroundColor="blue",o.classList.add("playerShip")):(o.classList.add("selectable"),o.style.backgroundColor="white",o.addEventListener("click",(function(e){e.preventDefault,I(r,a)}))):("ai"!==n&&o.classList.add("playerShip"),o.style.backgroundColor="red")}o.classList.add("boardSquare"),o.style.width="20px",o.style.height="20px",e.appendChild(o)}))}))}var U=function(e){for(;N.firstChild;)N.firstChild.remove();var t=document.createElement("h1");N.appendChild(t),t.textContent="Draw"===e?"Draw!":"".concat(e," won!"),q()};function Z(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[5,4,3,3,2];if(n.length>0){z(e);var r=document.querySelector(".prompt"),a=document.querySelectorAll(".validSpace"),o=n.shift();r.textContent="Please, place your ship of length ".concat(o);var i="vertical";a.forEach((function(r){var a={invalid:!1},l=Number(r.dataset.x),c=Number(r.dataset.y);r.addEventListener("mouseover",(function(e){e.preventDefault(),H(r,i,o,a)})),r.addEventListener("mousedown",(function(s){if(s.preventDefault(),0===s.button)if(!0===a.invalid){var u=document.createElement("div");u.classList.add("error"),u.textContent="This placement is invalid.",document.body.appendChild(u),u.style.position="fixed",u.style.left="".concat(s.clientX+10,"px"),u.style.top="".concat(s.clientY+10,"px"),setTimeout((function(){return u.remove()}),500)}else"vertical"===i?e.addShip([l,c],[l+o-1,c]):e.addShip([l,c],[l,c+o-1]),Z(e,t,n);2===s.button&&(G("selected","invalid"),H(r,i="vertical"===i?"horizontal":"vertical",o,a))})),r.addEventListener("mouseout",(function(e){e.preventDefault(),G("selected","invalid"),a.invalid=!1}))}))}else t.populateAiBoard(),N.animate({opacity:[1,0,1]},1e3),setTimeout((function(){B(e,t)}),500)}function H(e,t,n,r){e.classList.add("selected");for(var a=Number(e.dataset.x),o=Number(e.dataset.y),i=1;i<n;i++){var l=void 0,c=void 0;"vertical"===t?(l=a+i,c=o):(l=a,c=o+i);var s=document.querySelector('[data-x="'.concat(l,'"][data-y="').concat(c,'"]'));null!==s&&s.classList.contains("validSpace")&&s.classList.add("selected"),(null===s||null!==s&&s.classList.contains("playerShip"))&&(r.invalid=!0,null!==s&&s.classList.add("invalid"))}}function G(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t.forEach((function(e){P(document.querySelectorAll(".".concat(e))).forEach((function(t){t.classList.remove(e)}))}))}q()})()})();